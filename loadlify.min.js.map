{"version":3,"sources":["loadlify.js"],"names":[],"mappings":"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","file":"loadlify.min.js","sourcesContent":["\"use-strict\";\n//LoadlifyJS Web Loader\nclass loadlifyJS{\n\tconstructor(a){\n\t\tif(typeof XMLHttpRequest!=\"undefined\") this.prefetch();\n\t\tthis.defs=a.defs||defaults.defs;\n\t\tthis.deps=a.deps||defaults.deps;\n\t\tthis.loaded={};\n\t\tthis.links={};\n\t\tthis.flags=a.flags||defaults.flags;\n\t\tthis.props=a.properties||defaults.properties;\n\t\tthis.handlers={\n\t\t\tcss: async function(a, b){\n\t\t\t\tlet node=document.createElement(\"style\");\n\t\t\t\tnode.innerText=a.data;\n\t\t\t\tdocument.querySelector(\"head\").appendChild(node);\n\t\t\t\treturn [a.data, {flags: b, url: a.url}];\n\t\t\t},\n\t\t\tjs: async function(a, b){\n\t\t\t\tif(b.includes(\"astag\")){\n\t\t\t\t\tdocument.querySelector(\"head\").appendChild(\"<script data-src='\"+a.url+\"'>\"+a.data+\"</script>\");\n\t\t\t\t\treturn [$(\"script[data-src='\"+a.url+\"']\"), {flags: b,url:a.url}];\n\t\t\t\t}else{\n\t\t\t\t\tlet c=new Function(a.data);\n\t\t\t\t\tlet d=c();\n\t\t\t\t\treturn [c, {rv:d,flags:b,url:a.url}];\n\t\t\t\t}\n\t\t\t},\n\t\t\thtml: async function(a, b){\n\t\t\t\treturn [a.data, {flags: b, url: a.url}];\n\t\t\t},\n\t\t\tplain: async function(a, b){\n\t\t\t\treturn [a.data, {flags: b, url: a.url}];\n\t\t\t}\n\t\t};\n\t}\n\tget add(){\n\t\tlet _this=this;\n\t\tlet a={\n\t\t\tdefs: function(_this, a){\n\t\t\t\treturn _this.defs[a.key, a.value];\n\t\t\t},\n\t\t\tdeps: function(_this, a){\n\t\t\t\treturn _this.deps[a.key, a.value];\n\t\t\t}\n\t\t};\n\t\treturn a;\n\t}\n\tprefetch(){\n\t\tthis.pref=new Promise(resolver=>{\n\t\t\tdelete self.fetch;\n\t\t\tlet x=new XMLHttpRequest();\n\t\t\tx.open(\"GET\", defaults.defs.fetch, true);\n\t\t\tx.send();\n\t\t\tx.onloadend=a=>{\n\t\t\t\tconsole.log(a);\n\t\t\t\tnew Function(a.target.response)();\n\t\t\t\tresolver(a);\n\t\t\t};\n\t\t});\n\t}\n\tload(a, b){\n\t\treturn this.load2(a, b).then(a=>{\n\t\t\tif(typeof a==\"array\"){\n\t\t\t\tlet todo=[];\n\t\t\t\ta.forEach(x=>{\n\t\t\t\t\treturn todo.push(this.loaded[this.links[a]]);\n\t\t\t\t});\n\t\t\t\treturn Promise.all(todo);\n\t\t\t}else{\n\t\t\t\treturn this.loaded[this.links[a]];\n\t\t\t}\n\t\t});\n\t}\n\tasync load2(a, b){\n\t\tif(b==undefined) b=[];\n\t\tif(typeof b==\"string\") b=[b];\n\t\tb.concat(this.flags);\n\t\tif(!navigator.onLine && b.includes(\"force\")!= false) throw new Error(\"OFFLINE!\");\n\t\tif(a==undefined) throw new Error(\"Undefined not allowed\");\n\t\tif(typeof a==\"string\"){\n\t\t\treturn await this.st1(a, b);\n\t\t}else{\n\t\t\tlet todo=[];\n\t\t\ta.forEach(c=>{\n\t\t\t\ttodo.push(this.st1(c, b));\n\t\t\t});\n\t\t\treturn await Promise.all(todo);\n\t\t}\n\t}\n\tasync st1(a, b){\n\t\tif(typeof a==\"string\"){\n\t\t\ta=[a];\n\t\t}\n\t\tif(b.includes(\"nodeps\") || this.deps[a]==undefined) return this.st2(a, b);\n\t\tlet rt= await this.load(this.deps[a], b);\n\t\tlet rt2=await this.st2(a, b);\n\t\treturn [rt, rt2];\n\t}\n\tasync st2(a, b){\n\t\tlet c=[];\n\t\ta.forEach(d=>{\n\t\t\tif(d.match(/^(((http|https):)|(\\/\\/))/)) return c.push(this.st3(d, b,a));\n\t\t\tif(this.defs.hasOwnProperty(d)) return c.push(this.st3(this.defs[d], b,a));\n\t\t\tif(b.includes(\"noprefix\")) return c.push(this.st3(new URL(d, location), b,a));\n\t\t\treturn c.push(this.st3(new URL(this.props.prefix+d, location), b,a));\n\t\t});\n\t\treturn Promise.all(c);\n\t}\n\tasync st3(a, b,f){\n\t\tif(Object.keys(this.loaded).includes(a)&&(b.includes(\"nocache\")!=true||b.includes(\"force\")!=true)) return this.loaded.valueOf(a);\n\t\tthis.links[f]=a;\n\t\tlet type=this.whatIs(a,b);\n\t\tawait this.pref;\n\t\ttry{\n\t\t\tlet rsp=fetch(a)\n\t\t\t.then(c=>{\n\t\t\t\tif(c.ok) return c.text();\n\t\t\t\tthrow new Error(\"Cannot fetch resource\");\n\t\t\t})\n\t\t\t.then(d=>\n\t\t\t\tthis.handlers[type]({data: d, url: a},b)\n\t\t\t);\n\t\t\tthis.loaded[a]=rsp;\n\t\t\treturn rsp;\n\t\t}catch(e){\n\t\t\tdelete this.loaded[a];\n\t\t\tthrow e;\n\t\t}\n\t}\n\twhatIs(a, b){\n\t\tif(typeof a==\"object\" && 'href' in a) a=a.href;\n\t\t\n\t\tlet reg=/(as)((css)|(js)|(font)|(html)|(plain))/;\n\t\tlet res=b.filter(x=>x.match(reg));\n\t\tif(res[0]) return res[0].match(reg)[2];\n\t\t\n\t\tif(a.match(/(.*\\.js)/)){\n\t\t\treturn \"js\";\n\t\t}else if(a.match(/(.*\\.css)/)){\n\t\t\treturn \"css\";\n\t\t}else if(a.match(/(.*\\.(html)|(htm))/)){\n\t\t\treturn \"html\";\n\t\t}else if(a.match(/(.*fonts.*)/)){\n\t\t\treturn \"css\"; //Fonts are loaded as css\n\t\t}else{\n\t\t\tconsole.warn(\"Unknown file: \", a);\n\t\t\treturn \"unknown\";\n\t\t}\n\t}\n\thandlerctl(a){\n\t\tswitch(a){\n\t\t\tcase \"set\":\n\t\t\t\treturn this.handlers[b]=c;\n\t\t\tcase \"remove\":\n\t\t\t\treturn delete this.handlers[b];\n\t\t\tdefault:\n\t\t\t\treturn this.handlers;\n\t\t}\n\t}\n\tstatic optjQuery(){\n\t\tif(typeof jQuery == \"undefined\"){\n\t\t\treturn \"jQuery\";\n\t\t}else{\n\t\t\treturn undefined;\n\t\t}\n\t}\n}\nlet defaults={\n\tdefs:{\n\t\tjQuery: \"https://unpkg.com/jquery@latest/dist/jquery.min.js\",\n\t\tbootstrap: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\",\n\t\tbootstrapCSS: \"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\",\n\t\tdexie: \"https://unpkg.com/dexie@latest/dist/dexie.min.js\",\n\t\tjqueryUI: \"https://code.jquery.com/ui/1.12.1/jquery-ui.min.js\",\n\t\thandlebars: \"https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.10/handlebars.min.js\",\n\t\tjqueryUICSS: \"https://code.jquery.com/ui/1.12.1/themes/ui-lightness/jquery-ui.css\",\n\t\tfontAwesome: \"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\",\n\t\tvex: \"https://raw.githubusercontent.com/HubSpot/vex/master/dist/js/vex.combined.min.js\",\n\t\tvexCSS: \"https://raw.githubusercontent.com/HubSpot/vex/master/dist/css/vex.css\",\n\t\tvexTheme: \"https://raw.githubusercontent.com/HubSpot/vex/master/dist/css/vex-theme-plain.css\",\n\t\tmaterializeCSS: \"https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/css/materialize.min.css\",\n\t\tmaterialize: \"https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/js/materialize.min.js\",\n\t\tmaterialIcons: \"https://fonts.googleapis.com/icon?family=Material+Icons\",\n\t\tsocket_io: \"https://unpkg.com/socket.io-client@latest/dist/socket.io.js\",\n\t\tsha256: \"https://unpkg.com/js-sha256@latest/build/sha256.min.js\",\n\t\tAES: \"https://cdn.rawgit.com/ricmoo/aes-js/master/index.js\",\n\t\tlistJS: \"//cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js\", //listJS no funciona con eval() https://github.com/javve/list.js/issues/528\n\t\ttypedJS: \"https://raw.githubusercontent.com/mattboldt/typed.js/master/lib/typed.min.js\",\n\t\topenpgp: \"https://unpkg.com/openpgp@latest/dist/openpgp.min.js\",\n\t\tmoment: \"https://unpkg.com/moment@latest/moment.js\",\n\t\tzepto: \"https://unpkg.com/zepto@1.2.0/dist/zepto.min.js\",\n\t\tfetch: \"https://raw.githubusercontent.com/github/fetch/master/fetch.js\"\n\t},\n\tdeps:{\n\t\tvex: [\"vexCSS\", \"vexTheme\"],\n\t\tjqueryUI: [\"jqueryUICSS\", loadlifyJS.optjQuery()],\n\t\tmaterialize: [\"materializeCSS\", \"materialIcons\", loadlifyJS.optjQuery()],\n\t\tbootstrap: [\"bootstrapCSS\", loadlifyJS.optjQuery()],\n\t},\n\tflags: [],\n\tproperties:{\n\t\tprefix: \"lib/\",\n\t\tsuffix: \".js\"\n\t}\n};\nclass RequireLayer{\n\tconstructor(a){\n\t\tthis.handler={\n\t\t\tget: (tgt, name)=>{\n\t\t\t\treturn tgt[name];\n\t\t\t},\n\t\t\tset: (tgt, name, val)=>{\n\t\t\t\ttgt[name]=val;\n\t\t\t\treturn (tgt[name]==val);\n\t\t\t}\n\t\t};\n\t\tthis.exports={};\n\t\tself.exports=new Proxy(this.exports, this.handler);\n\t}\n\trequire(a){\n\t\tif(typeof a!=\"string\") throw new Error(\"Only strings are supported\");\n\t\tif(this.exports[a]) return this.exports[a];\n\t\treturn this.loadModule(this.getUrl(a), a);\n\t}\n\tgetUrl(d){\n\t\tif(d.match(/^(((http|https):)|(\\/\\/))/)) return d;\n\t\tif(loadlify.defs.hasOwnProperty(d)) return loadlify.defs[d];\n\t\treturn new URL(loadlify.props.prefix+d+loadlify.props.suffix, location);\n\t}\n\tloadModule(a, b){\n\t\tconsole.warn(\"This function is not intended for production. Please, use loadlify.load one\");\n\t\tfunction* gen(a){\n\t\t\tlet req=new XMLHttpRequest();\n\t\t\treq.open(\"GET\", a, false);\n\t\t\treq.send();\n\t\t\tif(req.status!=200) throw new Error(\"Failed to load \"+a+\". Status: \"+req.status);\n\t\t\tlet res=req.responseText;\n\t\t\tres=new Function(res);\n\t\t\tres();\n\t\t\treturn res;\n\t\t}\n\t\tlet Z=gen(a).next().value;\n\t\treturn this.exports[b];\n\t}\n}\n(function(){\n\t//Jump Loadlify to Global Scope\n\tself.loadlifyJS=loadlifyJS;\n\tself.loadlify=new loadlifyJS({});\n\tself.load=function(a, b){return self.loadlify.load(a, b)};\n\t//Require Layer (Experimental) Not suitable for production!\n// \tself.requireLayer=new RequireLayer();\n})();\n"]}